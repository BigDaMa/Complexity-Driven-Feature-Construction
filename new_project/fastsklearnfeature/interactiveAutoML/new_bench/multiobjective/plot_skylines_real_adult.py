import matplotlib.pyplot as plt
import numpy as np


def plot_it(skyline, name, dashed=False):
	skyline_a = np.array(skyline)
	ids = np.argsort(skyline_a[:,0])

	line = plt.plot(skyline_a[ids, 0], skyline_a[ids, 1], label=name)
	if dashed:
		plt.setp(line, linestyle='--')



weighted_ranking_sky = [[0.871933535401993, 0.8391350499438734], [0.8677249831003729, 0.8672209917798153], [0.8714974159924987, 0.8637000682588918], [0.8425826991430254, 0.890637616005263], [0.8300442661200637, 0.9036278019366255], [0.787871519221963, 0.933718799527623], [0.7505069888135373, 1.0], [0.8672016398089797, 0.8759655805244041]]
times= [7.08647084236145, 11.097765922546387, 11.816243171691895, 20.828322410583496, 21.69518804550171, 30.26664710044861, 31.39844822883606, 80.73963642120361]
iterations= [11, 22, 24, 47, 49, 71, 74, 200]
plot_it(weighted_ranking_sky, 'weighted ranking')

weighted_ranking_sky = [[0.8675941472775247, 0.8695408940997176], [0.7578337948930417, 1.0], [0.8688465684513116, 0.8672676118264353], [0.8300442661200637, 0.9036278019366255], [0.7905427506051158, 0.9439565764565765], [0.8425826991430254, 0.890637616005263], [0.8606380426960902, 0.8697140542728778], [0.8718463115200942, 0.8391350499438734], [0.7794544146187227, 0.9766763848396501], [0.8526788634728188, 0.8857405911082381], [0.8570182515972873, 0.8733677148015383], [0.8518502365947797, 0.8880209965136436], [0.8708868488192067, 0.8484634992723228], [0.8575415948886805, 0.8730998576586813]]
times= [9.486069917678833, 19.76152539253235, 23.435622215270996, 32.219412326812744, 41.456287145614624, 51.093254804611206, 54.41382169723511, 64.20356702804565, 70.19756150245667, 72.42495346069336, 91.3219861984253, 120.01779651641846, 141.9647777080536, 147.91740083694458]
iterations= [16, 44, 53, 76, 100, 125, 134, 159, 174, 180, 229, 302, 355, 370]
plot_it(weighted_ranking_sky, 'weighted ranking choice')

fairness_sky =[[0.8733291175123749, 0.8612147153501518], [0.7311071668779178, 0.9593363988952224], [0.7870537953291612, 0.9452688181364652], [0.5, 1.0], [0.8370740590108179, 0.9028763780602016], [0.8588336235569438, 0.8756481202069437], [0.756503630694084, 0.951034163901811], [0.8532569867550105, 0.8817553463141699], [0.8736234981137836, 0.8605254650842886], [0.7132187793017728, 0.9652223879062114], [0.8487485176220355, 0.88502464645847], [0.529344140707777, 0.9847411208072973], [0.7596436904424431, 0.9478595607272078], [0.7541049739418653, 0.954159163901811], [0.7107405769461106, 0.9760799556387791], [0.7912405416603066, 0.9421918950595422], [0.8341354955979462, 0.9116295468133704]]
times= [3.702543020248413, 4.471046686172485, 6.670896530151367, 8.123360633850098, 14.422196388244629, 16.392178297042847, 17.867810487747192, 18.25819420814514, 19.362009048461914, 21.278711795806885, 21.666836738586426, 22.02684473991394, 23.181076765060425, 34.48230481147766, 35.149837493896484, 35.50947046279907, 38.52241921424866]
iterations= [2, 4, 10, 14, 31, 36, 40, 41, 44, 49, 50, 51, 54, 85, 87, 88, 96]
plot_it(fairness_sky, 'fairness ranking')



acc_sky = [[0.7505069888135373, 1.0], [0.7702304891079178, 0.9498906423906424], [0.8689243114764823, 0.8392327300415536], [0.8662421771080921, 0.9059101681528152], [0.8680302666870188, 0.8486573332161568], [0.8688152816241087, 0.8423096531184766], [0.8707342070258837, 0.8360100499438735], [0.8704725353801871, 0.8391846531184767]]
times= [3.12868070602417, 4.635746479034424, 9.875800132751465, 16.424967527389526, 32.84458136558533, 50.09984636306763, 64.09537196159363, 73.48333215713501]
iterations= [2, 3, 6, 10, 20, 31, 39, 44]
plot_it(acc_sky, 'accuracy ranking')

var_sky =[[0.8701890577640158, 0.8391846531184767], [0.7530800933295536, 1.0], [0.8480027877261079, 0.858911823470647], [0.8647375651453368, 0.8400307739645975], [0.8255675483936354, 0.8591337135087135], [0.8635382367692275, 0.8432534540622776], [0.8714974159924987, 0.8391350499438734], [0.85437382117224, 0.8434236311074547], [0.8483453305587693, 0.8556395401983637]]
times= [12.022539377212524, 20.461284399032593, 30.254749298095703, 39.51317620277405, 47.55717086791992, 59.42391490936279, 71.76094388961792, 75.68928694725037, 80.83678936958313]
iterations= [7, 12, 18, 24, 29, 36, 44, 46, 49]
plot_it(var_sky, 'variance ranking')

evolution_sky = [[0.8664192197789037, 0.9050281335207806], [0.8687438714118556, 0.8757513971852208], [0.8669346463812866, 0.9048838333764805], [0.8648971252726193, 0.9075597481940911], [0.867603542702357, 0.9020266905193376], [0.8441593650091674, 0.947894087011734], [0.8643450576767919, 0.9210599617463], [0.8343400423035827, 0.9572912870339341], [0.8203624152292899, 0.9695508330434801], [0.8497855240938245, 0.9266235519911991], [0.8269805272683661, 0.9604436901863372], [0.8216925794282475, 0.9632512298688769], [0.7914548560793622, 0.9742404306742543], [0.8012385791229639, 0.9735380958570872], [0.7899866983580105, 0.9814191547279782]]
times= [208.6621012687683, 326.81726241111755, 371.9557318687439, 379.4197151660919, 422.78511667251587, 486.62269139289856, 551.0025928020477, 657.8791961669922, 944.4277920722961, 987.2667262554169, 1025.4312055110931, 1160.7372562885284, 1192.0043001174927, 1345.2541160583496, 1403.4412236213684]
iterations= [132, 213, 244, 249, 279, 323, 368, 444, 642, 672, 699, 794, 816, 923, 964]
plot_it(evolution_sky, 'evolution')


hyperopt_sky = [[0.7002330344227576, 0.9745508372346607], [0.7526766828757714, 0.9584073748411984], [0.8495933186506466, 0.9361206521132992], [0.8510945247111256, 0.9333115861792333], [0.7990551938180397, 0.951306161048808], [0.8483793874110079, 0.9363885092561564], [0.8628731546697486, 0.9250278874721475], [0.8670708039861315, 0.9127957446150046], [0.8643506690937521, 0.9130636017578617], [0.876093932418043, 0.8970334424010895], [0.8327591094441659, 0.9372827070253541], [0.8781437929659275, 0.8938492519185118], [0.8696875204430974, 0.9037529124471724], [0.8325628557098933, 0.9422958278650878], [0.8244510346932991, 0.9490334652277252]]
times= [20.34238886833191, 90.1800684928894, 97.83066749572754, 120.83394026756287, 137.70892691612244, 160.34969091415405, 299.3914477825165, 466.64246225357056, 487.157119512558, 518.2081744670868, 558.0128512382507, 560.9191513061523, 861.5644404888153, 945.9130554199219, 975.4641518592834]
iterations= [13, 59, 64, 78, 88, 102, 189, 304, 318, 339, 366, 368, 562, 615, 633]
plot_it(hyperopt_sky, 'hyperparameter opt.')



plt.legend()
plt.show()
