import matplotlib.pyplot as plt
import numpy as np


def plot_it(skyline, name, dashed=False):
	skyline_a = np.array(skyline)
	ids = np.argsort(skyline_a[:,0])

	line = plt.plot(skyline_a[ids, 0], skyline_a[ids, 1], label=name)
	if dashed:
		plt.setp(line, linestyle='--')



weighted_ranking_sky = [[0.8718681174905689, 0.8360100499438735], [0.8714538040515494, 0.8391350499438734], [0.8680302666870188, 0.8486573332161568], [0.7702304891079178, 0.9498906423906424], [0.8672016398089797, 0.8516861793700029], [0.787871519221963, 0.933718799527623], [0.7505069888135373, 1.0], [0.8491462962559149, 0.9115237906414377], [0.8695398804094456, 0.8454346531184767], [0.8640179681196711, 0.9088596312046202], [0.8712729299685821, 0.8425775102613338], [0.7512592947949149, 0.9692307692307692], [0.868400968185089, 0.8456270301858537], [0.8662421771080921, 0.9059101681528152], [0.8713229682287009, 0.8423096531184766]]
times= [3.2531299591064453, 36.982616662979126, 60.9949164390564, 99.95811223983765, 104.69295811653137, 142.30799436569214, 150.80425667762756, 156.71884894371033, 190.66138553619385, 244.59406995773315, 389.1924045085907, 391.1246724128723, 427.6600317955017, 506.60352396965027, 539.1733129024506]
iterations= [2, 20, 34, 58, 61, 84, 90, 94, 115, 148, 236, 237, 257, 306, 326]
plot_it(weighted_ranking_sky, 'weighted ranking')

fairness_sky = [[0.8714101921105999, 0.8391350499438734], [0.8508907738938922, 0.8588799803138039], [0.7505069888135373, 1.0], [0.7919492357007348, 0.8899724989063225], [0.7920582655531084, 0.8689016539016539], [0.858435639678144, 0.8581215026803262], [0.7839682505069887, 0.9055094905094905], [0.8695348786497744, 0.8391846531184767], [0.8687062517717351, 0.8424539532627768], [0.845679146950435, 0.8652565898154134], [0.850672714189145, 0.861956903390727]]
times: [5.381477355957031, 6.992936849594116, 13.514564275741577, 26.065617322921753, 27.602420568466187, 29.32441806793213, 31.02398133277893, 34.30779957771301, 39.57651329040527, 61.21861720085144, 80.68561244010925]
iterations: [3, 4, 8, 15, 16, 17, 18, 20, 23, 36, 45]
plot_it(fairness_sky, 'fairness ranking')

acc_sky = [[0.7505069888135373, 1.0], [0.7702304891079178, 0.9498906423906424], [0.8689243114764823, 0.8392327300415536], [0.8662421771080921, 0.9059101681528152], [0.8680302666870188, 0.8486573332161568], [0.8688152816241087, 0.8423096531184766], [0.8707342070258837, 0.8360100499438735], [0.8704725353801871, 0.8391846531184767]]
times= [3.12868070602417, 4.635746479034424, 9.875800132751465, 16.424967527389526, 32.84458136558533, 50.09984636306763, 64.09537196159363, 73.48333215713501]
iterations= [2, 3, 6, 10, 20, 31, 39, 44]
plot_it(acc_sky, 'accuracy ranking')

var_sky =[[0.8701890577640158, 0.8391846531184767], [0.7530800933295536, 1.0], [0.8480027877261079, 0.858911823470647], [0.8647375651453368, 0.8400307739645975], [0.8255675483936354, 0.8591337135087135], [0.8635382367692275, 0.8432534540622776], [0.8714974159924987, 0.8391350499438734], [0.85437382117224, 0.8434236311074547], [0.8483453305587693, 0.8556395401983637]]
times= [12.022539377212524, 20.461284399032593, 30.254749298095703, 39.51317620277405, 47.55717086791992, 59.42391490936279, 71.76094388961792, 75.68928694725037, 80.83678936958313]
iterations= [7, 12, 18, 24, 29, 36, 44, 46, 49]
plot_it(var_sky, 'variance ranking')

evolution_sky = [[0.8664192197789037, 0.9050281335207806], [0.8687438714118556, 0.8757513971852208], [0.8669346463812866, 0.9048838333764805], [0.8648971252726193, 0.9075597481940911], [0.867603542702357, 0.9020266905193376], [0.8441593650091674, 0.947894087011734], [0.8643450576767919, 0.9210599617463], [0.8343400423035827, 0.9572912870339341], [0.8203624152292899, 0.9695508330434801], [0.8497855240938245, 0.9266235519911991], [0.8269805272683661, 0.9604436901863372], [0.8216925794282475, 0.9632512298688769], [0.7914548560793622, 0.9742404306742543], [0.8012385791229639, 0.9735380958570872], [0.7899866983580105, 0.9814191547279782]]
times= [208.6621012687683, 326.81726241111755, 371.9557318687439, 379.4197151660919, 422.78511667251587, 486.62269139289856, 551.0025928020477, 657.8791961669922, 944.4277920722961, 987.2667262554169, 1025.4312055110931, 1160.7372562885284, 1192.0043001174927, 1345.2541160583496, 1403.4412236213684]
iterations= [132, 213, 244, 249, 279, 323, 368, 444, 642, 672, 699, 794, 816, 923, 964]
plot_it(evolution_sky, 'evolution')


hyperopt_sky = [[0.7002330344227576, 0.9745508372346607], [0.7526766828757714, 0.9584073748411984], [0.8495933186506466, 0.9361206521132992], [0.8510945247111256, 0.9333115861792333], [0.7990551938180397, 0.951306161048808], [0.8483793874110079, 0.9363885092561564], [0.8628731546697486, 0.9250278874721475], [0.8670708039861315, 0.9127957446150046], [0.8643506690937521, 0.9130636017578617], [0.876093932418043, 0.8970334424010895], [0.8327591094441659, 0.9372827070253541], [0.8781437929659275, 0.8938492519185118], [0.8696875204430974, 0.9037529124471724], [0.8325628557098933, 0.9422958278650878], [0.8244510346932991, 0.9490334652277252]]
times= [20.34238886833191, 90.1800684928894, 97.83066749572754, 120.83394026756287, 137.70892691612244, 160.34969091415405, 299.3914477825165, 466.64246225357056, 487.157119512558, 518.2081744670868, 558.0128512382507, 560.9191513061523, 861.5644404888153, 945.9130554199219, 975.4641518592834]
iterations= [13, 59, 64, 78, 88, 102, 189, 304, 318, 339, 366, 368, 562, 615, 633]
plot_it(hyperopt_sky, 'hyperparameter opt.')



plt.legend()
plt.show()
